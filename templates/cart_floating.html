<style>
  .cart-fab {
    position: fixed;
    left: 30px;
    bottom: 30px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #333; /* 검은색 배경 */
    color: #fff;
    border: none;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    z-index: 9999;
    transition: transform 0.3s ease;
    text-decoration: none;
  }
  .cart-fab:hover {
    transform: translateY(-5px) scale(1.1);
    color: #fff;
    background: #000;
  }
  .cart-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #e74c3c;
    color: white;
    border-radius: 50%;
    padding: 4px 8px;
    font-size: 0.8rem;
    font-weight: bold;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }
</style>

<a href="/cart" class="cart-fab" title="장바구니 보기">
  <i class="fas fa-shopping-cart fa-lg"></i>
  <span id="cartCountBadge" class="cart-badge" style="display: none">0</span>
</a>

<script>
  // 페이지 로드 시 장바구니 개수 확인
  document.addEventListener("DOMContentLoaded", function () {
    updateCartCount();
  });

  function updateCartCount() {
    fetch("/cart/count")
      .then((res) => res.json())
      .then((data) => {
        const badge = document.getElementById("cartCountBadge");
        if (data.count > 0) {
          badge.innerText = data.count;
          badge.style.display = "block";
        } else {
          badge.style.display = "none";
        }
      })
      .catch((err) => console.error("Cart Count Error:", err));
  }
</script>
